
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Rabies in Israel, a data story EDA &#8212; Rabies Israel Project</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/notebooks/Rabies_project_updated_may_2024';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Welcome to the Rabies EDA Project" href="../../index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/favicon.ico" class="logo__image only-light" alt="Rabies Israel Project - Home"/>
    <script>document.write(`<img src="../../_static/favicon.ico" class="logo__image only-dark" alt="Rabies Israel Project - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../index.html">
                    Welcome to the Rabies EDA Project
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Rabies in Israel, a data story EDA</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/notebooks/Rabies_project_updated_may_2024.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Rabies in Israel, a data story EDA</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda">EDA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#libreries">Libreries</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#get-data-from-data-gov-il">Get Data from data.gov.il</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-exploration">Data Exploration</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing-plan">Data preprocessing plan</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-visualizations">Data Visualizations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-by-species-seaborn">Count of Rabies events by Species - Seaborn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interactive-count-of-rabies-events-by-species-plotly">Interactive Count of Rabies events by Species - Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-by-region-seaborn">Count of Rabies events by Region - Seaborn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-by-region-plotly">Count of Rabies events by Region - Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-per-year-seaborn">Count of Rabies events per Year - Seaborn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-per-year-plotly">Count of Rabies events per Year - Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregated-count-by-month-across-all-years-seaborn">Aggregated Count by Month Across All Years - Seaborn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregated-count-by-month-across-all-years-plotly">Aggregated Count by Month Across All Years - Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#heatmap-monthly-counts-for-each-year">Heatmap Monthly Counts for Each Year</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#heatmap-monthly-counts-for-each-year-plotly">Heatmap Monthly Counts for Each Year - Plotly</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizations-for-2023">Visualizations for 2023</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-cases-by-species-in-2023">Count of Rabies Cases by Species in 2023</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-plot-for-regions-in-2023">Count plot for Regions in 2023</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-by-month-in-2023">Count of Rabies Events by Month in 2023</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-of-rabies-events-by-month-in-2023-to-annual-average">Comparison of Rabies Events by Month in 2023 to Annual Average</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribution-of-rabies-events-by-species-over-time">Distribution of Rabies Events by Species over Time</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seasonal-trends-of-rabies-events">Seasonal Trends of Rabies Events</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-insights-and-conclusions">Key insights and Conclusions:</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="rabies-in-israel-a-data-story-eda">
<h1>Rabies in Israel, a data story EDA<a class="headerlink" href="#rabies-in-israel-a-data-story-eda" title="Link to this heading">#</a></h1>
<p>Please use the side-bar for faster navigation and enjoy the data analysis experince</p>
<section id="objectives">
<h2>Objectives<a class="headerlink" href="#objectives" title="Link to this heading">#</a></h2>
<p>The primary objective of this project is to evaluate the prevalence and distribution of the Rabies virus in Israel by analyzing reported cases over time. The project aims to identify trends in the appearance of Rabies across different regions and species, and to understand seasonal patterns in the data. This analysis will provide insights that could inform public health strategies and preventive measures against Rabies in Israel.</p>
</section>
<section id="eda">
<h2>EDA<a class="headerlink" href="#eda" title="Link to this heading">#</a></h2>
<p>Implemntation of EDA including importing libreries for analysis and visualization, fetching data from API, pre processing the data (cleaning and removing unused columns) and backing up the dataframe in csv</p>
<section id="libreries">
<h3>Libreries<a class="headerlink" href="#libreries" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Data manipulation</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Data visualization</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">plotly</span> <span class="k">as</span> <span class="nn">plty</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="nn">pio</span>

<span class="c1"># API imports</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="c1"># IFRAME</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">IFrame</span>

<span class="c1"># Minift HTML</span>
<span class="kn">import</span> <span class="nn">htmlmin</span>
</pre></div>
</div>
</div>
</div>
<section id="get-data-from-data-gov-il">
<h4>Get Data from <a class="reference external" href="http://data.gov.il">data.gov.il</a><a class="headerlink" href="#get-data-from-data-gov-il" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_url</span> <span class="o">=</span> <span class="s1">&#39;https://data.gov.il/api/3/action/datastore_search?resource_id=85cd1c27-7824-45ff-9982-22da0285fafb&#39;</span>  
<span class="n">all_records</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Fetch the first page to get the total number of records</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">data_url</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">total_records</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;total&#39;</span><span class="p">]</span>
    <span class="n">all_records</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;records&#39;</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to fetch data. Status code: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">total_records</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Calculate the number of iterations needed based on the limit (100 records per request in this case)</span>
<span class="n">iterations</span> <span class="o">=</span> <span class="p">(</span><span class="n">total_records</span> <span class="o">//</span> <span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">iterations</span><span class="p">):</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data_url</span><span class="si">}</span><span class="s2">&amp;offset=</span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">all_records</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;records&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to fetch data at offset </span><span class="si">{</span><span class="n">offset</span><span class="si">}</span><span class="s2">. Status code: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Convert all_records to a DataFrame</span>
<span class="n">df_rabies_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">all_records</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save DataFrame df_rabies_raw to CSV</span>
<span class="n">csv_file_path</span> <span class="o">=</span> <span class="s1">&#39;../assets/data/df_rabies_raw.csv&#39;</span> 
<span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">csv_file_path</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DataFrame saved as CSV at: </span><span class="si">{</span><span class="n">csv_file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DataFrame saved as CSV at: ../assets/data/df_rabies_raw.csv
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># OPTIONAL: get data df_rabies_raw from the csv</span>

<span class="c1"># Define the path to the CSV file</span>
<span class="n">csv_file_path</span> <span class="o">=</span> <span class="s1">&#39;../assets/data/df_rabies_raw.csv&#39;</span>

<span class="c1"># Load the DataFrame from the CSV file</span>
<span class="n">df_rabies_raw</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_file_path</span><span class="p">)</span>

<span class="c1"># Print the first few rows of the DataFrame to verify</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;HEAD&#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;COLUMNS&#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;INFO&#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;DESCRIBE&#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------HEAD--------------------
   _id  OBJECTID Animal_Lab_ID  Event        Date  \
0    1       711     A00508487   30.0  2024-05-26   
1    2       710     A00507442   29.0  2024-05-12   
2    3       709     A00506588   28.0  2024-04-30   
3    4       706     A00506410   25.0  2024-04-29   
4    5       707     A00506411   26.0  2024-04-29   

                                          LinkToTest  \
0  https://www.gov.il/BlobFolder/reports/kalevet-...   
1  https://www.gov.il/BlobFolder/reports/kalevet-...   
2  https://www.gov.il/BlobFolder/reports/dalton-2...   
3  https://www.gov.il/BlobFolder/reports/menahami...   
4  https://www.gov.il/BlobFolder/reports/menahami...   

                                            OpenLink  \
0  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   
1  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   
2  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   
3  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   
4  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   

                                           LinkToMre  \
0  https://www.gov.il/BlobFolder/reports/kalevet-...   
1  https://www.gov.il/BlobFolder/reports/kalevet-...   
2  https://www.gov.il/BlobFolder/reports/dalton-2...   
3  https://www.gov.il/BlobFolder/reports/menahami...   
4  https://www.gov.il/BlobFolder/reports/menahami...   

                                        LinkMoreOpen  Year  ...    RegionEng  \
0  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...  Galil Golan   
1  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...       Amakim   
2  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...  Galil Golan   
3  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...       Amakim   
4  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...       Amakim   

   RegionHeb SpeciesNameHeb Species SettlementHeb    SettlementEng  \
0  גליל גולן            כלב     NaN  טובא-זנגרייה  Tuba-Zangariyye   
1      עמקים            כלב     NaN         אכסאל              NaN   
2  גליל גולן            בקר   VII B         דלתון           Dalton   
3      עמקים            צאן   VII A        מנחמיה        Menahemya   
4      עמקים            צאן   VII A        מנחמיה        Menahemya   

  LocationNotSettlementEng LocationNotSettlementHeb          x          y  
0                      NaN                      NaN  35.594972  32.968016  
1                      NaN                      NaN  35.325270  32.684085  
2                      NaN                      NaN  35.491002  33.018510  
3                      NaN                      NaN  35.555517  32.666332  
4                      NaN                      NaN  35.556223  32.667221  

[5 rows x 21 columns]
--------------------COLUMNS--------------------
Index([&#39;_id&#39;, &#39;OBJECTID&#39;, &#39;Animal_Lab_ID&#39;, &#39;Event&#39;, &#39;Date&#39;, &#39;LinkToTest&#39;,
       &#39;OpenLink&#39;, &#39;LinkToMre&#39;, &#39;LinkMoreOpen&#39;, &#39;Year&#39;, &#39;SpeciesNameEng&#39;,
       &#39;RegionEng&#39;, &#39;RegionHeb&#39;, &#39;SpeciesNameHeb&#39;, &#39;Species&#39;, &#39;SettlementHeb&#39;,
       &#39;SettlementEng&#39;, &#39;LocationNotSettlementEng&#39;, &#39;LocationNotSettlementHeb&#39;,
       &#39;x&#39;, &#39;y&#39;],
      dtype=&#39;object&#39;)
--------------------INFO--------------------
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 2541 entries, 0 to 2540
Data columns (total 21 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   _id                       2541 non-null   int64  
 1   OBJECTID                  2541 non-null   int64  
 2   Animal_Lab_ID             2541 non-null   object 
 3   Event                     2541 non-null   float64
 4   Date                      2541 non-null   object 
 5   LinkToTest                813 non-null    object 
 6   OpenLink                  2541 non-null   object 
 7   LinkToMre                 1088 non-null   object 
 8   LinkMoreOpen              2541 non-null   object 
 9   Year                      2541 non-null   int64  
 10  SpeciesNameEng            2540 non-null   object 
 11  RegionEng                 2541 non-null   object 
 12  RegionHeb                 2538 non-null   object 
 13  SpeciesNameHeb            2541 non-null   object 
 14  Species                   2424 non-null   object 
 15  SettlementHeb             2476 non-null   object 
 16  SettlementEng             2456 non-null   object 
 17  LocationNotSettlementEng  65 non-null     object 
 18  LocationNotSettlementHeb  67 non-null     object 
 19  x                         2536 non-null   float64
 20  y                         2536 non-null   float64
dtypes: float64(3), int64(3), object(15)
memory usage: 417.0+ KB
None
--------------------DESCRIBE--------------------
               _id     OBJECTID        Event         Year            x  \
count  2541.000000  2541.000000  2541.000000  2541.000000  2536.000000   
mean    426.903581   284.523022    26.731602  2013.158993    35.504522   
std     167.200638   156.885943    24.194007     4.544520     0.205087   
min       1.000000     1.000000     1.000000  2006.000000    34.728377   
25%     309.000000   167.000000     9.000000  2009.000000    35.367842   
50%     455.000000   277.000000    21.000000  2012.000000    35.531909   
75%     568.000000   391.000000    38.000000  2017.000000    35.653766   
max     663.000000   711.000000   134.000000  2024.000000    35.836893   

                 y  
count  2536.000000  
mean     32.814870  
std       0.457091  
min      29.833717  
25%      32.566286  
50%      32.939809  
75%      33.128167  
max      33.282874  
</pre></div>
</div>
</div>
</div>
</section>
<section id="data-exploration">
<h4>Data Exploration<a class="headerlink" href="#data-exploration" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;HEAD&#39;</span><span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;COLUMNS&#39;</span><span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;INFO&#39;</span><span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;DESCRIBE&#39;</span><span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------HEAD--------------------
   _id  OBJECTID Animal_Lab_ID  Event        Date  \
0    1       711     A00508487   30.0  2024-05-26   
1    2       710     A00507442   29.0  2024-05-12   
2    3       709     A00506588   28.0  2024-04-30   
3    4       706     A00506410   25.0  2024-04-29   
4    5       707     A00506411   26.0  2024-04-29   

                                          LinkToTest  \
0  https://www.gov.il/BlobFolder/reports/kalevet-...   
1  https://www.gov.il/BlobFolder/reports/kalevet-...   
2  https://www.gov.il/BlobFolder/reports/dalton-2...   
3  https://www.gov.il/BlobFolder/reports/menahami...   
4  https://www.gov.il/BlobFolder/reports/menahami...   

                                            OpenLink  \
0  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   
1  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   
2  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   
3  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   
4  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...   

                                           LinkToMre  \
0  https://www.gov.il/BlobFolder/reports/kalevet-...   
1  https://www.gov.il/BlobFolder/reports/kalevet-...   
2  https://www.gov.il/BlobFolder/reports/dalton-2...   
3  https://www.gov.il/BlobFolder/reports/menahami...   
4  https://www.gov.il/BlobFolder/reports/menahami...   

                                        LinkMoreOpen  Year  ...    RegionEng  \
0  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...  Galil Golan   
1  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...       Amakim   
2  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...  Galil Golan   
3  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...       Amakim   
4  &lt;a href=&quot;https://www.gov.il/BlobFolder/reports...  2024  ...       Amakim   

   RegionHeb SpeciesNameHeb Species SettlementHeb    SettlementEng  \
0  גליל גולן            כלב     NaN  טובא-זנגרייה  Tuba-Zangariyye   
1      עמקים            כלב     NaN         אכסאל              NaN   
2  גליל גולן            בקר   VII B         דלתון           Dalton   
3      עמקים            צאן   VII A        מנחמיה        Menahemya   
4      עמקים            צאן   VII A        מנחמיה        Menahemya   

  LocationNotSettlementEng LocationNotSettlementHeb          x          y  
0                      NaN                      NaN  35.594972  32.968016  
1                      NaN                      NaN  35.325270  32.684085  
2                      NaN                      NaN  35.491002  33.018510  
3                      NaN                      NaN  35.555517  32.666332  
4                      NaN                      NaN  35.556223  32.667221  

[5 rows x 21 columns]
--------------------COLUMNS--------------------
Index([&#39;_id&#39;, &#39;OBJECTID&#39;, &#39;Animal_Lab_ID&#39;, &#39;Event&#39;, &#39;Date&#39;, &#39;LinkToTest&#39;,
       &#39;OpenLink&#39;, &#39;LinkToMre&#39;, &#39;LinkMoreOpen&#39;, &#39;Year&#39;, &#39;SpeciesNameEng&#39;,
       &#39;RegionEng&#39;, &#39;RegionHeb&#39;, &#39;SpeciesNameHeb&#39;, &#39;Species&#39;, &#39;SettlementHeb&#39;,
       &#39;SettlementEng&#39;, &#39;LocationNotSettlementEng&#39;, &#39;LocationNotSettlementHeb&#39;,
       &#39;x&#39;, &#39;y&#39;],
      dtype=&#39;object&#39;)
--------------------INFO--------------------
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 2541 entries, 0 to 2540
Data columns (total 21 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   _id                       2541 non-null   int64  
 1   OBJECTID                  2541 non-null   int64  
 2   Animal_Lab_ID             2541 non-null   object 
 3   Event                     2541 non-null   float64
 4   Date                      2541 non-null   object 
 5   LinkToTest                813 non-null    object 
 6   OpenLink                  2541 non-null   object 
 7   LinkToMre                 1088 non-null   object 
 8   LinkMoreOpen              2541 non-null   object 
 9   Year                      2541 non-null   int64  
 10  SpeciesNameEng            2540 non-null   object 
 11  RegionEng                 2541 non-null   object 
 12  RegionHeb                 2538 non-null   object 
 13  SpeciesNameHeb            2541 non-null   object 
 14  Species                   2424 non-null   object 
 15  SettlementHeb             2476 non-null   object 
 16  SettlementEng             2456 non-null   object 
 17  LocationNotSettlementEng  65 non-null     object 
 18  LocationNotSettlementHeb  67 non-null     object 
 19  x                         2536 non-null   float64
 20  y                         2536 non-null   float64
dtypes: float64(3), int64(3), object(15)
memory usage: 417.0+ KB
None
--------------------DESCRIBE--------------------
               _id     OBJECTID        Event         Year            x  \
count  2541.000000  2541.000000  2541.000000  2541.000000  2536.000000   
mean    426.903581   284.523022    26.731602  2013.158993    35.504522   
std     167.200638   156.885943    24.194007     4.544520     0.205087   
min       1.000000     1.000000     1.000000  2006.000000    34.728377   
25%     309.000000   167.000000     9.000000  2009.000000    35.367842   
50%     455.000000   277.000000    21.000000  2012.000000    35.531909   
75%     568.000000   391.000000    38.000000  2017.000000    35.653766   
max     663.000000   711.000000   134.000000  2024.000000    35.836893   

                 y  
count  2536.000000  
mean     32.814870  
std       0.457091  
min      29.833717  
25%      32.566286  
50%      32.939809  
75%      33.128167  
max      33.282874  
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="data-preprocessing-plan">
<h3>Data preprocessing plan<a class="headerlink" href="#data-preprocessing-plan" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>OBJECTID - set as primery key</p></li>
<li><p>Animal_Lab_ID - as is</p></li>
<li><p>Event, Species - as is</p></li>
<li><p>Date - set as pandas date format</p></li>
<li><p>LinkToTest, OpenLink, LinkToMre, LinkMoreOpen - remove</p></li>
<li><p>Year - remove due to redundancy</p></li>
<li><p>RegionEng, SpeciesNameEng, SettlementEng, LocationNotSettlementEng - as is</p></li>
<li><p>RegionHeb, SpeciesNameHeb SettlementHeb,LocationNotSettlementHeb, x, y - remove</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Verify columns</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;COLUMNS&#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Add or refill _id as auto-incrementing integer starting from 1</span>
<span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Check if _id exists in the DataFrame</span>
<span class="k">if</span> <span class="s1">&#39;_id&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;_id column is missing from the DataFrame. Please check the data source.&quot;</span><span class="p">)</span>

<span class="c1"># Ensure OBJECTID is unique and has no missing values</span>
<span class="k">if</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">is_unique</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
    <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;_id&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;_id column cannot be used as a primary key due to duplicates or missing values.&quot;</span><span class="p">)</span>

<span class="c1"># Convert Date to pandas datetime format</span>
<span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span>

<span class="c1"># Remove LinkToTest, OpenLink, LinkToMre, LinkMoreOpen, Year</span>
<span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;LinkToTest&#39;</span><span class="p">,</span> <span class="s1">&#39;OpenLink&#39;</span><span class="p">,</span> <span class="s1">&#39;LinkToMre&#39;</span><span class="p">,</span> <span class="s1">&#39;LinkMoreOpen&#39;</span><span class="p">,</span> <span class="s1">&#39;Year&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Remove RegionHeb, SpeciesNameHeb, SettlementHeb, LocationNotSettlementHeb, x, y</span>
<span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;RegionHeb&#39;</span><span class="p">,</span> <span class="s1">&#39;SpeciesNameHeb&#39;</span><span class="p">,</span> <span class="s1">&#39;SettlementHeb&#39;</span><span class="p">,</span> <span class="s1">&#39;LocationNotSettlementHeb&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Add Year column for visualizations</span>
<span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>

<span class="c1"># Extract month from Date</span>
<span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>

<span class="c1"># Save the cleaned DataFrame to CSV</span>
<span class="n">csv_file_path</span> <span class="o">=</span> <span class="s1">&#39;../assets/data/df_rabies_cleaned.csv&#39;</span>
<span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">csv_file_path</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cleaned DataFrame saved as CSV at: </span><span class="si">{</span><span class="n">csv_file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------COLUMNS--------------------
Index([&#39;_id&#39;, &#39;OBJECTID&#39;, &#39;Animal_Lab_ID&#39;, &#39;Event&#39;, &#39;Date&#39;, &#39;LinkToTest&#39;,
       &#39;OpenLink&#39;, &#39;LinkToMre&#39;, &#39;LinkMoreOpen&#39;, &#39;Year&#39;, &#39;SpeciesNameEng&#39;,
       &#39;RegionEng&#39;, &#39;RegionHeb&#39;, &#39;SpeciesNameHeb&#39;, &#39;Species&#39;, &#39;SettlementHeb&#39;,
       &#39;SettlementEng&#39;, &#39;LocationNotSettlementEng&#39;, &#39;LocationNotSettlementHeb&#39;,
       &#39;x&#39;, &#39;y&#39;],
      dtype=&#39;object&#39;)
          OBJECTID        Event                           Date         Year  \
count  2541.000000  2541.000000                           2541  2541.000000   
mean    284.523022    26.731602  2013-09-14 21:08:17.284533760  2013.158993   
min       1.000000     1.000000            2006-02-28 00:00:00  2006.000000   
25%     167.000000     9.000000            2009-11-19 00:00:00  2009.000000   
50%     277.000000    21.000000            2012-05-29 00:00:00  2012.000000   
75%     391.000000    38.000000            2017-11-05 00:00:00  2017.000000   
max     711.000000   134.000000            2024-05-26 00:00:00  2024.000000   
std     156.885943    24.194007                            NaN     4.544520   

             Month  
count  2541.000000  
mean      7.062180  
min       1.000000  
25%       4.000000  
50%       8.000000  
75%      11.000000  
max      12.000000  
std       3.752489  
Cleaned DataFrame saved as CSV at: ../assets/data/df_rabies_cleaned.csv
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># helper consts</span>

<span class="c1"># Define month names for x-axis labels</span>
<span class="n">month_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Jan&#39;</span><span class="p">,</span> <span class="s1">&#39;Feb&#39;</span><span class="p">,</span> <span class="s1">&#39;Mar&#39;</span><span class="p">,</span> <span class="s1">&#39;Apr&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span> <span class="s1">&#39;Jun&#39;</span><span class="p">,</span> <span class="s1">&#39;Jul&#39;</span><span class="p">,</span> <span class="s1">&#39;Aug&#39;</span><span class="p">,</span> <span class="s1">&#39;Sep&#39;</span><span class="p">,</span> <span class="s1">&#39;Oct&#39;</span><span class="p">,</span> <span class="s1">&#39;Nov&#39;</span><span class="p">,</span> <span class="s1">&#39;Dec&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;HEAD&#39;</span><span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;COLUMNS&#39;</span><span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;INFO&#39;</span><span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="s1">&#39;DESCRIBE&#39;</span><span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------HEAD--------------------
     OBJECTID Animal_Lab_ID  Event       Date SpeciesNameEng    RegionEng  \
_id                                                                         
1         711     A00508487   30.0 2024-05-26            Dog  Galil Golan   
2         710     A00507442   29.0 2024-05-12            Dog       Amakim   
3         709     A00506588   28.0 2024-04-30         Cattle  Galil Golan   
4         706     A00506410   25.0 2024-04-29          Sheep       Amakim   
5         707     A00506411   26.0 2024-04-29          Sheep       Amakim   

    Species    SettlementEng LocationNotSettlementEng  Year  
_id                                                          
1       NaN  Tuba-Zangariyye                      NaN  2024  
2       NaN              NaN                      NaN  2024  
3     VII B           Dalton                      NaN  2024  
4     VII A        Menahemya                      NaN  2024  
5     VII A        Menahemya                      NaN  2024  
--------------------COLUMNS--------------------
Index([&#39;OBJECTID&#39;, &#39;Animal_Lab_ID&#39;, &#39;Event&#39;, &#39;Date&#39;, &#39;SpeciesNameEng&#39;,
       &#39;RegionEng&#39;, &#39;Species&#39;, &#39;SettlementEng&#39;, &#39;LocationNotSettlementEng&#39;,
       &#39;Year&#39;],
      dtype=&#39;object&#39;)
--------------------INFO--------------------
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 2541 entries, 1 to 2541
Data columns (total 10 columns):
 #   Column                    Non-Null Count  Dtype         
---  ------                    --------------  -----         
 0   OBJECTID                  2541 non-null   int64         
 1   Animal_Lab_ID             2541 non-null   object        
 2   Event                     2541 non-null   float64       
 3   Date                      2541 non-null   datetime64[ns]
 4   SpeciesNameEng            2540 non-null   object        
 5   RegionEng                 2541 non-null   object        
 6   Species                   2424 non-null   object        
 7   SettlementEng             2456 non-null   object        
 8   LocationNotSettlementEng  65 non-null     object        
 9   Year                      2541 non-null   int32         
dtypes: datetime64[ns](1), float64(1), int32(1), int64(1), object(6)
memory usage: 208.4+ KB
None
--------------------DESCRIBE--------------------
          OBJECTID        Event                           Date         Year
count  2541.000000  2541.000000                           2541  2541.000000
mean    284.523022    26.731602  2013-09-14 21:08:17.284533760  2013.158993
min       1.000000     1.000000            2006-02-28 00:00:00  2006.000000
25%     167.000000     9.000000            2009-11-19 00:00:00  2009.000000
50%     277.000000    21.000000            2012-05-29 00:00:00  2012.000000
75%     391.000000    38.000000            2017-11-05 00:00:00  2017.000000
max     711.000000   134.000000            2024-05-26 00:00:00  2024.000000
std     156.885943    24.194007                            NaN     4.544520
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="data-visualizations">
<h2>Data Visualizations<a class="headerlink" href="#data-visualizations" title="Link to this heading">#</a></h2>
<section id="count-of-rabies-events-by-species-seaborn">
<h3>Count of Rabies events by Species - Seaborn<a class="headerlink" href="#count-of-rabies-events-by-species-seaborn" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Count of Rabies events by Species Count plot</span>

<span class="c1"># Set the aesthetic style of the plots</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>

<span class="c1"># Create the count plot for SpeciesNameEng</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_rabies_raw</span><span class="p">,</span> 
                   <span class="n">x</span><span class="o">=</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">,</span> 
                   <span class="n">order</span><span class="o">=</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> 
                   <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">,</span> 
                   <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> 
                   <span class="n">dodge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> 
                   <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Add count labels on top of the bars</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">patches</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> 
                <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()),</span> 
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> 
                <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> 
                <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">,</span> 
                <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span>
                 <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Count of Rabies events by Species&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Species&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>  <span class="c1"># Rotate x-labels and adjust font size</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Adding a grid</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/81233d459c81a3982356945dfd2beea8d7c94c3059cc7f54906a8f16cd356e27.png" src="../../_images/81233d459c81a3982356945dfd2beea8d7c94c3059cc7f54906a8f16cd356e27.png" />
</div>
</div>
</section>
<section id="interactive-count-of-rabies-events-by-species-plotly">
<h3>Interactive Count of Rabies events by Species - Plotly<a class="headerlink" href="#interactive-count-of-rabies-events-by-species-plotly" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Interactive Count of Rabies events by Species</span>

<span class="c1"># Calculate counts for each species</span>
<span class="n">species_counts</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">species_counts</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">,</span> <span class="s1">&#39;Count&#39;</span><span class="p">]</span>

<span class="c1"># Define the species colors</span>
<span class="n">species_colors</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">qualitative</span><span class="o">.</span><span class="n">Plotly</span>
<span class="n">color_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">species</span><span class="p">:</span> <span class="n">species_colors</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">species_colors</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">species</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">species_counts</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">])}</span>

<span class="c1"># Create a default view that shows all data</span>
<span class="n">default_view</span> <span class="o">=</span> <span class="n">species_counts</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Create the initial bar chart with all data</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update_figure</span><span class="p">(</span><span class="n">year</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Clear existing traces</span>
    <span class="k">if</span> <span class="n">year</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">default_view</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">year</span><span class="p">][</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">filtered_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">,</span> <span class="s1">&#39;Count&#39;</span><span class="p">]</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">],</span>
        <span class="n">marker_color</span><span class="o">=</span><span class="p">[</span><span class="n">color_map</span><span class="p">[</span><span class="n">species</span><span class="p">]</span> <span class="k">for</span> <span class="n">species</span> <span class="ow">in</span> <span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]]</span>
    <span class="p">))</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Interactive Count of Rabies events by Species&#39;</span><span class="p">,</span>
        <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Species&#39;</span><span class="p">,</span>
        <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span>
        <span class="n">xaxis_tickangle</span><span class="o">=-</span><span class="mi">45</span><span class="p">,</span>
        <span class="n">title_x</span><span class="o">=</span><span class="mf">0.45</span><span class="p">,</span>
        <span class="n">title_font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">22</span><span class="p">),</span>
        <span class="n">legend_title_text</span><span class="o">=</span><span class="s1">&#39;Species&#39;</span>
    <span class="p">)</span>

<span class="n">update_figure</span><span class="p">(</span><span class="s1">&#39;All&#39;</span><span class="p">)</span>  <span class="c1"># Initial plot with all data</span>

<span class="c1"># Create a dropdown menu for the year selector</span>
<span class="n">year_options</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;All&#39;</span><span class="p">}]</span> <span class="o">+</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">year</span><span class="p">}</span> <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>

<span class="k">def</span> <span class="nf">update_trace</span><span class="p">(</span><span class="n">year</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">year</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">default_view</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">year</span><span class="p">][</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">filtered_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">,</span> <span class="s1">&#39;Count&#39;</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]],</span> <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="n">color_map</span><span class="p">[</span><span class="n">species</span><span class="p">]</span> <span class="k">for</span> <span class="n">species</span> <span class="ow">in</span> <span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]]))</span>

<span class="n">dropdown</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">Updatemenu</span><span class="p">(</span>
    <span class="n">buttons</span><span class="o">=</span><span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">update_trace</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])])</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">year_options</span><span class="p">],</span>
    <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
    <span class="n">pad</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="n">showactive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>  
    <span class="n">xanchor</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="mf">1.23</span><span class="p">,</span>  
    <span class="n">yanchor</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Year selector&#39;</span>
<span class="p">)</span>

<span class="c1"># Update the layout to include the year selector on the same line as the title</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">updatemenus</span><span class="o">=</span><span class="p">[</span><span class="n">dropdown</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;Interactive Count of Rabies events by Species&#39;</span><span class="p">,</span>
        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
        <span class="s1">&#39;xanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span>
        <span class="s1">&#39;yanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Save the interactive plot to an HTML file</span>
<span class="n">html_content</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">include_plotlyjs</span><span class="o">=</span><span class="s1">&#39;cdn&#39;</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">minified_html</span> <span class="o">=</span> <span class="n">htmlmin</span><span class="o">.</span><span class="n">minify</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="n">remove_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduce_empty_attributes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../assets/plots/interactive_rabies_events_by_species.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">minified_html</span><span class="p">)</span>

<span class="c1">#print(&quot;Interactive plot saved as HTML file.&quot;)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># plty.offline.plot(fig, filename = &quot;../assets/plots/interactive_rabies_events_by_species.html&quot;)</span>
<span class="c1"># Display the figure in Jupyter Book</span>
<span class="n">display</span><span class="p">(</span><span class="n">IFrame</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s1">&#39;../assets/plots/interactive_rabies_events_by_species.html&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;600px&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="100%"
            height="600px"
            src="../assets/plots/interactive_rabies_events_by_species.html"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
<p>The prevalence of rabies cases in dogs and jackals is higher than the rest of species, it can be attributed to several factors:</p>
<p>Domestication and Proximity to Humans: Dogs are the most common domestic animal and have close contact with humans. This proximity increases the likelihood of rabies transmission to dogs from wildlife and subsequently to humans. Rabies in dogs is a significant public health concern because of their close relationship with humans.</p>
<p>Behavioral Factors: Jackals, being wild canids, often come into contact with areas inhabited by humans, especially if they are searching for food. This can lead to interactions with domestic animals, including dogs, and potential transmission of the virus.</p>
<p>Vaccination Rates: In many regions, especially where rabies is endemic, dogs may not be vaccinated against rabies as consistently as required. This lack of vaccination can lead to higher rates of rabies among dogs.</p>
<p>Population Density and Control: Both dogs and jackals can have large populations, particularly in rural or suburban areas where control measures may be less stringent. High population densities can facilitate the spread of the virus.</p>
<p>Natural Reservoirs: Jackals are natural reservoirs of rabies in the wild and can maintain the virus within their populations. They can transmit the virus to other animals, including dogs, through bites.</p>
<p>Ecological Factors: The habitats of jackals may overlap with those of other rabies reservoir species, such as foxes and bats, increasing the likelihood of cross-species transmission.</p>
<p>Survival and Shedding of the Virus: Both dogs and jackals may shed the rabies virus for extended periods before showing symptoms, which allows for greater transmission potential.</p>
</section>
<section id="count-of-rabies-events-by-region-seaborn">
<h3>Count of Rabies events by Region - Seaborn<a class="headerlink" href="#count-of-rabies-events-by-region-seaborn" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Count of Rabies events by Region</span>

<span class="c1"># Set the aesthetic style of the plots</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>

<span class="c1"># Create the count plot for RegionEng</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_rabies_raw</span><span class="p">,</span> 
                   <span class="n">x</span><span class="o">=</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">,</span> 
                   <span class="n">order</span><span class="o">=</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> 
                   <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">,</span> 
                   <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span>
                   <span class="p">)</span>

<span class="c1"># Add title and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Count of Rabies events by Region&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Region&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>  <span class="c1"># Rotate x-labels and adjust font size</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Add data labels on top of each bar</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">patches</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> 
                <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()),</span> 
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> 
                <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;offset points&#39;</span><span class="p">)</span>

<span class="c1"># Adding a grid</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/1bec2214cc5518635cbd44ba29521c50c8f3af4c58cd44187b46f6493ba2d87e.png" src="../../_images/1bec2214cc5518635cbd44ba29521c50c8f3af4c58cd44187b46f6493ba2d87e.png" />
</div>
</div>
</section>
<section id="count-of-rabies-events-by-region-plotly">
<h3>Count of Rabies events by Region - Plotly<a class="headerlink" href="#count-of-rabies-events-by-region-plotly" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate counts for each region</span>
<span class="n">region_counts</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">region_counts</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">,</span> <span class="s1">&#39;Count&#39;</span><span class="p">]</span>

<span class="c1"># Define the region colors</span>
<span class="n">region_colors</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">qualitative</span><span class="o">.</span><span class="n">Pastel</span>
<span class="n">color_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">region</span><span class="p">:</span> <span class="n">region_colors</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">region_colors</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">region</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">region_counts</span><span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">])}</span>

<span class="c1"># Create a default view that shows all data</span>
<span class="n">default_view</span> <span class="o">=</span> <span class="n">region_counts</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Create the initial bar chart with all data</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update_figure</span><span class="p">(</span><span class="n">year</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Clear existing traces</span>
    <span class="k">if</span> <span class="n">year</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">default_view</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">)][</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">filtered_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">,</span> <span class="s1">&#39;Count&#39;</span><span class="p">]</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">],</span>
        <span class="n">marker_color</span><span class="o">=</span><span class="p">[</span><span class="n">color_map</span><span class="p">[</span><span class="n">region</span><span class="p">]</span> <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">]],</span>
        <span class="n">width</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">filtered_data</span><span class="p">)</span>  <span class="c1"># Adjust the width of the bars</span>
    <span class="p">))</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;Interactive Count of Rabies events by Region&#39;</span><span class="p">,</span>
            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
            <span class="s1">&#39;xanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span>
            <span class="s1">&#39;yanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Region&#39;</span><span class="p">,</span>
        <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span>
        <span class="n">xaxis_tickangle</span><span class="o">=-</span><span class="mi">45</span><span class="p">,</span>
        <span class="n">title_font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">22</span><span class="p">),</span>
        <span class="n">legend_title_text</span><span class="o">=</span><span class="s1">&#39;Region&#39;</span><span class="p">,</span>
        <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>  <span class="c1"># Adjust the margin to fit the dropdown next to the title</span>
    <span class="p">)</span>

<span class="n">update_figure</span><span class="p">(</span><span class="s1">&#39;All&#39;</span><span class="p">)</span>  <span class="c1"># Initial plot with all data</span>

<span class="c1"># Create a dropdown menu for the year selector</span>
<span class="n">year_options</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;All&#39;</span><span class="p">}]</span> <span class="o">+</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">),</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">year</span><span class="p">}</span> <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>

<span class="k">def</span> <span class="nf">update_trace</span><span class="p">(</span><span class="n">year</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">year</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">default_view</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">)][</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">filtered_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">,</span> <span class="s1">&#39;Count&#39;</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">]],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]],</span> <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="n">color_map</span><span class="p">[</span><span class="n">region</span><span class="p">]</span> <span class="k">for</span> <span class="n">region</span> <span class="ow">in</span> <span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">]]),</span> <span class="n">width</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">filtered_data</span><span class="p">))</span>

<span class="c1"># Define the dropdown menu</span>
<span class="n">dropdown</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">Updatemenu</span><span class="p">(</span>
    <span class="n">buttons</span><span class="o">=</span><span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">update_trace</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])])</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">year_options</span><span class="p">],</span>
    <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
    <span class="n">pad</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="n">showactive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>  
    <span class="n">xanchor</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="mf">1.23</span><span class="p">,</span>  
    <span class="n">yanchor</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Year selector&#39;</span>
<span class="p">)</span>

<span class="c1"># Update the layout to include the year selector just next to the title</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">updatemenus</span><span class="o">=</span><span class="p">[</span><span class="n">dropdown</span><span class="p">],</span>
<span class="p">)</span>

<span class="c1"># Save the interactive plot to an HTML file</span>
<span class="n">html_content</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">include_plotlyjs</span><span class="o">=</span><span class="s1">&#39;cdn&#39;</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">minified_html</span> <span class="o">=</span> <span class="n">htmlmin</span><span class="o">.</span><span class="n">minify</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="n">remove_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduce_empty_attributes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../assets/plots/interactive_rabies_events_by_region.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">minified_html</span><span class="p">)</span>

<span class="c1"># print(&quot;Interactive plot saved as HTML file.&quot;)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>From the Count Plot for Region it is seen that most cases are found at the Galil and Golan regions.</p>
<p>The Galil and Golan regions, known for their diverse wildlife and rural landscapes, may exhibit higher cases of rabies for several reasons:</p>
<p>Wildlife Reservoirs: These areas are habitats for wildlife species known to be common reservoirs for the rabies virus, such as foxes, jackals, and raccoons. The interaction between wild animals and domestic pets or livestock can lead to a higher incidence of rabies transmission.</p>
<p>Rural and Agricultural Land: The Galil and Golan regions have substantial agricultural activity. Farms and domestic animals may have greater exposure to wildlife, increasing the risk of rabies transmission.</p>
<p>Human-Wildlife Interaction: Increased human encroachment into wildlife habitats can lead to more frequent interactions between humans and potentially rabid animals, raising the risk of rabies cases.</p>
<p>Vaccination and Control Measures: There may be variations in the effectiveness of animal vaccination programs and wildlife rabies control measures. Regions with less stringent control measures might experience more outbreaks.</p>
<p>Climate and Environment: Environmental factors, such as climate, vegetation, and the availability of water sources, can influence the density and behavior of rabies vector species. Cooler climates in higher altitudes, like the Golan Heights, might affect the survival and transmission patterns of the rabies virus.</p>
<p>Reporting and Surveillance: The observed higher number of cases could also be a result of more thorough reporting and surveillance in these regions, rather than an actual higher incidence of the disease.</p>
</section>
<section id="count-of-rabies-events-per-year-seaborn">
<h3>Count of Rabies events per Year - Seaborn<a class="headerlink" href="#count-of-rabies-events-per-year-seaborn" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##Count of Rabies events per Year</span>

<span class="c1"># Count the number of events per year</span>
<span class="n">events_per_year</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>

<span class="c1"># Create a Seaborn bar plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">events_per_year</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">events_per_year</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">events_per_year</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Enhance the plot with titles and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Count of Rabies events per Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of Events&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>  <span class="c1"># Rotate x-labels if they overlap</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Add grid lines for better readability</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Display the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/10c7887124ebce522b9ef4114c42c0c7ff9ce85ce949958127462197882692b9.png" src="../../_images/10c7887124ebce522b9ef4114c42c0c7ff9ce85ce949958127462197882692b9.png" />
</div>
</div>
</section>
<section id="count-of-rabies-events-per-year-plotly">
<h3>Count of Rabies events per Year - Plotly<a class="headerlink" href="#count-of-rabies-events-per-year-plotly" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Count the number of events per year and species</span>
<span class="n">events_per_species</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
<span class="n">species_counts</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">species_counts</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">,</span> <span class="s1">&#39;Count&#39;</span><span class="p">]</span>

<span class="c1"># Define the species colors</span>
<span class="n">species_colors</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">qualitative</span><span class="o">.</span><span class="n">Plotly</span>
<span class="n">color_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">species</span><span class="p">:</span> <span class="n">species_colors</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">species_colors</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">species</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">species_counts</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">])}</span>

<span class="c1"># Create a default view that shows all data</span>
<span class="n">default_view</span> <span class="o">=</span> <span class="n">events_per_species</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="c1"># Create the initial bar chart with all data</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

<span class="c1"># Add a trace for the initial view</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">default_view</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">],</span>
    <span class="n">y</span><span class="o">=</span><span class="n">default_view</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">],</span>
    <span class="n">marker_color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>  <span class="c1"># Use a single color for the default view</span>
    <span class="n">width</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">default_view</span><span class="p">)</span>  <span class="c1"># Adjust the width of the bars</span>
<span class="p">))</span>

<span class="c1"># Function to update the figure based on selected species</span>
<span class="k">def</span> <span class="nf">update_figure</span><span class="p">(</span><span class="n">species</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Clear existing traces</span>
    <span class="k">if</span> <span class="n">species</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">events_per_species</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">events_per_species</span><span class="p">[</span><span class="n">events_per_species</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">species</span><span class="p">]</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">color_map</span><span class="p">[</span><span class="n">species</span><span class="p">]</span>
    
    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">],</span>
        <span class="n">marker_color</span><span class="o">=</span><span class="p">[</span><span class="n">color</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">filtered_data</span><span class="p">),</span>  <span class="c1"># Use the color for the selected species</span>
        <span class="n">width</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">filtered_data</span><span class="p">)</span>  <span class="c1"># Adjust the width of the bars</span>
    <span class="p">))</span>
    
    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Interactive Count of Rabies Events by Species and Year&#39;</span><span class="p">,</span>
        <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span>
        <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Number of Events&#39;</span><span class="p">,</span>
        <span class="n">xaxis_tickangle</span><span class="o">=-</span><span class="mi">45</span><span class="p">,</span>
        <span class="n">title_x</span><span class="o">=</span><span class="mf">0.45</span><span class="p">,</span>
        <span class="n">title_font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">22</span><span class="p">),</span>
        <span class="n">legend_title_text</span><span class="o">=</span><span class="s1">&#39;Species&#39;</span>
    <span class="p">)</span>

<span class="c1"># Update the figure with initial data</span>
<span class="n">update_figure</span><span class="p">(</span><span class="s1">&#39;All&#39;</span><span class="p">)</span>

<span class="c1"># Create a dropdown menu for species selection</span>
<span class="n">species_options</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;All&#39;</span><span class="p">}]</span> <span class="o">+</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">species</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">species</span><span class="p">}</span> <span class="k">for</span> <span class="n">species</span> <span class="ow">in</span> <span class="n">species_counts</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]]</span>

<span class="k">def</span> <span class="nf">update_trace</span><span class="p">(</span><span class="n">species</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">species</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">events_per_species</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">events_per_species</span><span class="p">[</span><span class="n">events_per_species</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">species</span><span class="p">]</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">color_map</span><span class="p">[</span><span class="n">species</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]],</span> <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="n">color</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">filtered_data</span><span class="p">)))</span>

<span class="n">dropdown</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">Updatemenu</span><span class="p">(</span>
    <span class="n">buttons</span><span class="o">=</span><span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">update_trace</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])])</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">species_options</span><span class="p">],</span>
    <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
    <span class="n">pad</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="n">showactive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">xanchor</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="mf">1.25</span><span class="p">,</span>
    <span class="n">yanchor</span><span class="o">=</span><span class="s1">&#39;top&#39;</span>
<span class="p">)</span>

<span class="c1"># Update the layout to include the species selector on the same line as the title</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">updatemenus</span><span class="o">=</span><span class="p">[</span><span class="n">dropdown</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;Interactive Count of Rabies Events by Species and Year&#39;</span><span class="p">,</span>
        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
        <span class="s1">&#39;xanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span>
        <span class="s1">&#39;yanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Save the interactive plot to an HTML file</span>
<span class="n">html_content</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">include_plotlyjs</span><span class="o">=</span><span class="s1">&#39;cdn&#39;</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">minified_html</span> <span class="o">=</span> <span class="n">htmlmin</span><span class="o">.</span><span class="n">minify</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="n">remove_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduce_empty_attributes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../assets/plots/interactive_rabies_events_species.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">minified_html</span><span class="p">)</span>

<span class="c1"># print(&quot;Interactive plot saved as HTML file.&quot;)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="aggregated-count-by-month-across-all-years-seaborn">
<h3>Aggregated Count by Month Across All Years - Seaborn<a class="headerlink" href="#aggregated-count-by-month-across-all-years-seaborn" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Aggregated Count by Month Across All Years</span>

<span class="c1"># Count the number of events per month</span>
<span class="n">events_per_month</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>

<span class="c1"># Plot the results with Seaborn</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">barplot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">events_per_month</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">events_per_month</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="n">events_per_month</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Enhance the plot with titles and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Aggregated Count of Events per Month Across All Years&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of Events&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Jan&#39;</span><span class="p">,</span> <span class="s1">&#39;Feb&#39;</span><span class="p">,</span> <span class="s1">&#39;Mar&#39;</span><span class="p">,</span> <span class="s1">&#39;Apr&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span> <span class="s1">&#39;Jun&#39;</span><span class="p">,</span> <span class="s1">&#39;Jul&#39;</span><span class="p">,</span> <span class="s1">&#39;Aug&#39;</span><span class="p">,</span> <span class="s1">&#39;Sep&#39;</span><span class="p">,</span> <span class="s1">&#39;Oct&#39;</span><span class="p">,</span> <span class="s1">&#39;Nov&#39;</span><span class="p">,</span> <span class="s1">&#39;Dec&#39;</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Add the number above each bar</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">barplot</span><span class="o">.</span><span class="n">patches</span><span class="p">:</span>
    <span class="n">barplot</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="nb">format</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">(),</span> <span class="s1">&#39;.0f&#39;</span><span class="p">),</span> 
                     <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()),</span> 
                     <span class="n">ha</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> 
                     <span class="n">xytext</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> 
                     <span class="n">textcoords</span> <span class="o">=</span> <span class="s1">&#39;offset points&#39;</span><span class="p">)</span>

<span class="c1"># Add grid lines for better readability</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Display the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/440675c52f3b57e1c1ba8687dca988d105511eb84d6ff74aa7c9f0ad3f07fb92.png" src="../../_images/440675c52f3b57e1c1ba8687dca988d105511eb84d6ff74aa7c9f0ad3f07fb92.png" />
</div>
</div>
</section>
<section id="aggregated-count-by-month-across-all-years-plotly">
<h3>Aggregated Count by Month Across All Years - Plotly<a class="headerlink" href="#aggregated-count-by-month-across-all-years-plotly" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Aggregated Count by Month Across All Years</span>

<span class="c1"># Count the number of events per month for all species</span>
<span class="n">events_per_month</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>

<span class="c1"># Define the species colors</span>
<span class="n">species_colors</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">qualitative</span><span class="o">.</span><span class="n">Plotly</span>
<span class="n">species_list</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">color_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">species</span><span class="p">:</span> <span class="n">species_colors</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">species_colors</span><span class="p">)]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">species</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">species_list</span><span class="p">)}</span>

<span class="c1"># Create the initial bar chart with all data</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">update_figure</span><span class="p">(</span><span class="n">species</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Clear existing traces</span>
    <span class="k">if</span> <span class="n">species</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">events_per_month</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">species</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
    
    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="n">month_names</span><span class="p">[</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]],</span>
        <span class="n">y</span><span class="o">=</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">],</span>
        <span class="n">marker_color</span><span class="o">=</span><span class="n">color_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">species</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">),</span>  <span class="c1"># Use the color for the selected species</span>
        <span class="n">text</span><span class="o">=</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">],</span>
        <span class="n">textposition</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span>
    <span class="p">))</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Interactive Aggregated Count of Events per Month Across All Years&#39;</span><span class="p">,</span>
        <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span>
        <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Number of Events&#39;</span><span class="p">,</span>
        <span class="n">xaxis_tickangle</span><span class="o">=-</span><span class="mi">45</span><span class="p">,</span>
        <span class="n">title_x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
        <span class="n">title_font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">22</span><span class="p">),</span>
        <span class="n">legend_title_text</span><span class="o">=</span><span class="s1">&#39;Species&#39;</span>
    <span class="p">)</span>

<span class="n">update_figure</span><span class="p">(</span><span class="s1">&#39;All&#39;</span><span class="p">)</span>  <span class="c1"># Initial plot with all data</span>

<span class="c1"># Create a dropdown menu for species selection</span>
<span class="n">species_options</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;All&#39;</span><span class="p">}]</span> <span class="o">+</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="n">species</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">species</span><span class="p">}</span> <span class="k">for</span> <span class="n">species</span> <span class="ow">in</span> <span class="n">species_list</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">update_trace</span><span class="p">(</span><span class="n">species</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">species</span> <span class="o">==</span> <span class="s1">&#39;All&#39;</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">events_per_month</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">species</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[[</span><span class="n">month_names</span><span class="p">[</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]]],</span> 
                <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]],</span> 
                <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="n">color_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">species</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">)]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">filtered_data</span><span class="p">)),</span>
                <span class="n">text</span><span class="o">=</span><span class="p">[</span><span class="n">filtered_data</span><span class="p">[</span><span class="s1">&#39;Count&#39;</span><span class="p">]],</span>
                <span class="n">textposition</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span><span class="p">)</span>

<span class="n">dropdown</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">Updatemenu</span><span class="p">(</span>
    <span class="n">buttons</span><span class="o">=</span><span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">option</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">update_trace</span><span class="p">(</span><span class="n">option</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])])</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">species_options</span><span class="p">],</span>
    <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
    <span class="n">pad</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="n">showactive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">xanchor</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
    <span class="n">yanchor</span><span class="o">=</span><span class="s1">&#39;top&#39;</span>
<span class="p">)</span>

<span class="c1"># Update the layout to include the species selector</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">updatemenus</span><span class="o">=</span><span class="p">[</span><span class="n">dropdown</span><span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;Interactive Aggregated Count of Events per Month Across All Years&#39;</span><span class="p">,</span>
        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.45</span><span class="p">,</span>
        <span class="s1">&#39;xanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span>
        <span class="s1">&#39;yanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="c1"># Save the interactive plot to an HTML file</span>
<span class="n">html_content</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">include_plotlyjs</span><span class="o">=</span><span class="s1">&#39;cdn&#39;</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">minified_html</span> <span class="o">=</span> <span class="n">htmlmin</span><span class="o">.</span><span class="n">minify</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="n">remove_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduce_empty_attributes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../assets/plots/interactive_rabies_events_by_month.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">minified_html</span><span class="p">)</span>

<span class="c1"># print(&quot;Interactive plot saved as HTML file.&quot;)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>According to the count by Month Across All Years it is seen that the months of January, February, October, November and December have a high (above 50) cases of rabies cases.</p>
<p>Some possible explanations:</p>
<p>Breeding Seasons: The breeding seasons of wild animals can influence the incidence of rabies. For example, if jackals or other wild reservoirs have breeding seasons that peak before these months, the increased contact between animals during this time could lead to more cases of rabies. The young of these animals, born during these peak times, may become susceptible to rabies as they explore and potentially encounter rabid animals.</p>
<p>Animal Behavior: Changes in animal behavior due to colder weather could lead to increased transmission. Animals may seek shelter and food closer to human habitats as the temperature drops, leading to more interactions between wildlife, domestic animals, and humans.</p>
<p>Human Activity: Human activities such as hunting or harvesting crops can also increase during certain times of the year, leading to more frequent encounters between humans, domestic animals, and wildlife carriers of rabies.</p>
<p>Virus Survival: The rabies virus may survive longer in the environment under colder conditions, which could contribute to its transmission. Colder temperatures can slow down the decomposition of carcasses, allowing the virus to remain viable for longer periods and potentially infect scavenging animals.</p>
<p>Migration Patterns: The migration patterns of birds and other animals can affect the spread of rabies. Migratory species could potentially introduce the virus to new areas or come into contact with local wildlife, leading to outbreaks.</p>
</section>
<section id="heatmap-monthly-counts-for-each-year">
<h3>Heatmap Monthly Counts for Each Year<a class="headerlink" href="#heatmap-monthly-counts-for-each-year" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Heatmap Monthly Counts for Each Year</span>

<span class="c1"># Extract month from Date</span>
<span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span>

<span class="c1"># Count the number of events per month and year</span>
<span class="n">monthly_counts</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Month&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span>

<span class="c1"># Pivot the data for plotting</span>
<span class="n">monthly_counts_pivot</span> <span class="o">=</span> <span class="n">monthly_counts</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span>

<span class="c1"># Now plot the results</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">heatmap</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">monthly_counts_pivot</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;0.0f&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">cbar_kws</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of Events&#39;</span><span class="p">})</span>

<span class="c1"># Enhance the plot with titles and labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Monthly Count of Rabies events Each Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="c1"># Set the y-axis labels to show month names</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Jan&#39;</span><span class="p">,</span> <span class="s1">&#39;Feb&#39;</span><span class="p">,</span> <span class="s1">&#39;Mar&#39;</span><span class="p">,</span> <span class="s1">&#39;Apr&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span> <span class="s1">&#39;Jun&#39;</span><span class="p">,</span> <span class="s1">&#39;Jul&#39;</span><span class="p">,</span> <span class="s1">&#39;Aug&#39;</span><span class="p">,</span> <span class="s1">&#39;Sep&#39;</span><span class="p">,</span> <span class="s1">&#39;Oct&#39;</span><span class="p">,</span> <span class="s1">&#39;Nov&#39;</span><span class="p">,</span> <span class="s1">&#39;Dec&#39;</span><span class="p">],</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Add a color bar for better readability</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">heatmap</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">colorbar</span>
<span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Display the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/b6b6115a2beeb4e9c5e404534ef3e8b10cd0d29ebc63192fbe1519000d8725b7.png" src="../../_images/b6b6115a2beeb4e9c5e404534ef3e8b10cd0d29ebc63192fbe1519000d8725b7.png" />
</div>
</div>
<p>From the heatmap of Monthly Count of Events for Each Year it can be seen that months October, November and December during 2009 and 2017 has a higher rate of cases. Additionaly January and February of 2018 also has higher rate of cases this is probably because of the cases at end of 2017.</p>
</section>
<section id="heatmap-monthly-counts-for-each-year-plotly">
<h3>Heatmap Monthly Counts for Each Year - Plotly<a class="headerlink" href="#heatmap-monthly-counts-for-each-year-plotly" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#### Heatmap Monthly Counts for Each Year - Plotly</span>


<span class="c1"># Count the number of events per month and year</span>
<span class="n">monthly_counts</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Month&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span>

<span class="c1"># Create a Pivot Table</span>
<span class="n">monthly_counts_pivot</span> <span class="o">=</span> <span class="n">monthly_counts</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Convert the pivot table back to long format for Plotly</span>
<span class="n">monthly_counts_long</span> <span class="o">=</span> <span class="n">monthly_counts_pivot</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span>

<span class="c1"># Define month names for better readability</span>
<span class="n">monthly_counts_long</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">monthly_counts_long</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">month_names</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Create the heatmap with a lighter color palette</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">monthly_counts_pivot</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> 
                <span class="n">labels</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Counts&quot;</span><span class="p">),</span> 
                <span class="n">x</span><span class="o">=</span><span class="n">monthly_counts_pivot</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> 
                <span class="n">y</span><span class="o">=</span><span class="n">month_names</span><span class="p">,</span> 
                <span class="n">color_continuous_scale</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>

<span class="c1"># Update the layout for better readability and interactivity</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;Monthly Count of Events for Each Year&#39;</span><span class="p">,</span>
        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
        <span class="s1">&#39;xanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="s1">&#39;yanchor&#39;</span><span class="p">:</span> <span class="s1">&#39;top&#39;</span>
    <span class="p">},</span>
    <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span>
    <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span>
    <span class="n">coloraxis_colorbar</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Number of Events&quot;</span><span class="p">,</span>
        <span class="n">tickvals</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">monthly_counts_pivot</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()],</span>
        <span class="n">ticktext</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">monthly_counts_pivot</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()))],</span>
        <span class="n">ticks</span><span class="o">=</span><span class="s2">&quot;outside&quot;</span>
    <span class="p">),</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>  <span class="c1"># Set background color to white</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">),</span>  <span class="c1"># Add grid lines for x-axis</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">)</span>   <span class="c1"># Add grid lines for y-axis</span>
<span class="p">)</span>

<span class="c1"># Update the layout for better aesthetics</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">tickangle</span><span class="o">=-</span><span class="mi">45</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">tickmode</span><span class="o">=</span><span class="s1">&#39;array&#39;</span><span class="p">,</span>
        <span class="n">tickvals</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">monthly_counts_pivot</span><span class="o">.</span><span class="n">columns</span><span class="p">))),</span>
        <span class="n">ticktext</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span> <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">monthly_counts_pivot</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
    <span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">tickmode</span><span class="o">=</span><span class="s1">&#39;array&#39;</span><span class="p">,</span>
        <span class="n">tickvals</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">)),</span>
        <span class="n">ticktext</span><span class="o">=</span><span class="n">month_names</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Save the interactive plot to an HTML file</span>
<span class="n">html_content</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">include_plotlyjs</span><span class="o">=</span><span class="s1">&#39;cdn&#39;</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">minified_html</span> <span class="o">=</span> <span class="n">htmlmin</span><span class="o">.</span><span class="n">minify</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="n">remove_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduce_empty_attributes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../assets/plots/interactive_rabies_events_by_month_and_year.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">minified_html</span><span class="p">)</span>

<span class="c1"># print(&quot;Interactive plot saved as HTML file.&quot;)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
</section>
<section id="visualizations-for-2023">
<h2>Visualizations for 2023<a class="headerlink" href="#visualizations-for-2023" title="Link to this heading">#</a></h2>
<section id="count-of-rabies-cases-by-species-in-2023">
<h3>Count of Rabies Cases by Species in 2023<a class="headerlink" href="#count-of-rabies-cases-by-species-in-2023" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filter the DataFrame for the year 2023</span>
<span class="n">df_2023</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="p">[</span><span class="n">df_rabies_raw</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2023</span><span class="p">]</span>

<span class="c1"># Count plot for Species in 2023</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_2023</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Species Name&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">df_2023</span><span class="p">[</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Count of Rabies Cases by Species in 2023&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/ed83ad1f52340197e9098aa5fe320514814be77931112334cbdc82a9642e43d3.png" src="../../_images/ed83ad1f52340197e9098aa5fe320514814be77931112334cbdc82a9642e43d3.png" />
</div>
</div>
</section>
<section id="count-plot-for-regions-in-2023">
<h3>Count plot for Regions in 2023<a class="headerlink" href="#count-plot-for-regions-in-2023" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Count plot for Regions in 2023</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_2023</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">df_2023</span><span class="p">[</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;RegionEng&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Count of Rabies Cases by Region in 2023&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/c2084a0d29485784f9f9444f5a3e7ff35da3a657b51cddcfaf380e8c9d9c68d6.png" src="../../_images/c2084a0d29485784f9f9444f5a3e7ff35da3a657b51cddcfaf380e8c9d9c68d6.png" />
</div>
</div>
</section>
<section id="count-of-rabies-events-by-month-in-2023">
<h3>Count of Rabies Events by Month in 2023<a class="headerlink" href="#count-of-rabies-events-by-month-in-2023" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Count plot for Events by Month in 2023</span>
<span class="n">df_2023</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_2023</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span>  <span class="c1"># Extract the month if not already done</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_2023</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Count of Rabies Events by Month in 2023&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of Events&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span><span class="n">month_names</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\DOR\AppData\Local\Temp\ipykernel_5196\2257303053.py:2: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
<img alt="../../_images/3ccd89716f7d66a7d8f4eb8acbc0e432d0d977de1c607ff0acd32bc7019107aa.png" src="../../_images/3ccd89716f7d66a7d8f4eb8acbc0e432d0d977de1c607ff0acd32bc7019107aa.png" />
</div>
</div>
</section>
<section id="comparison-of-rabies-events-by-month-in-2023-to-annual-average">
<h3>Comparison of Rabies Events by Month in 2023 to Annual Average<a class="headerlink" href="#comparison-of-rabies-events-by-month-in-2023-to-annual-average" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the monthly counts for each year</span>
<span class="n">monthly_counts</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Month&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span>

<span class="c1"># Calculate the average monthly counts across all years except 2023</span>
<span class="n">average_monthly_counts</span> <span class="o">=</span> <span class="n">monthly_counts</span><span class="p">[</span><span class="n">monthly_counts</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">2023</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)[</span><span class="s1">&#39;Counts&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span>
<span class="n">average_monthly_counts</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Average&#39;</span>  <span class="c1"># Add a column to indicate these are averages</span>

<span class="c1"># Filter the DataFrame for the year 2023</span>
<span class="n">df_2023_counts</span> <span class="o">=</span> <span class="n">monthly_counts</span><span class="p">[</span><span class="n">monthly_counts</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2023</span><span class="p">][[</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="s1">&#39;Counts&#39;</span><span class="p">]]</span>
<span class="n">df_2023_counts</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;2023&#39;</span>  <span class="c1"># Add a column to indicate these are 2023 counts</span>

<span class="c1"># Combine the 2023 data with the average monthly counts</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_2023_counts</span><span class="p">,</span> <span class="n">average_monthly_counts</span><span class="p">])</span>

<span class="c1"># Convert &#39;Month&#39; to a categorical type for proper ordering in the plot</span>
<span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">],</span> <span class="n">categories</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Now plot the results</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

<span class="c1"># Plot the counts with &#39;hue&#39; to differentiate between 2023 and average counts</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">combined_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Comparison of Rabies Events by Month in 2023 to Annual Average&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of Events&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">month_names</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/31a1d3e12b2e30cc09279dd83001aee3cb1e9853b9472943b9363328a1e7f59c.png" src="../../_images/31a1d3e12b2e30cc09279dd83001aee3cb1e9853b9472943b9363328a1e7f59c.png" />
</div>
</div>
</section>
<section id="distribution-of-rabies-events-by-species-over-time">
<h3>Distribution of Rabies Events by Species over Time<a class="headerlink" href="#distribution-of-rabies-events-by-species-over-time" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Count the number of events per year and species</span>
<span class="n">events_per_year_species</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span>

<span class="c1"># Create the stacked bar chart</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">events_per_year_species</span><span class="p">,</span> 
             <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> 
             <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">,</span> 
             <span class="n">color</span><span class="o">=</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">,</span> 
             <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribution of Rabies Events by Species over Time&#39;</span><span class="p">,</span>
             <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;SpeciesNameEng&#39;</span><span class="p">:</span> <span class="s1">&#39;Species&#39;</span><span class="p">,</span> <span class="s1">&#39;Counts&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of Events&#39;</span><span class="p">},</span>
             <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">qualitative</span><span class="o">.</span><span class="n">Vivid</span><span class="p">)</span>

<span class="c1"># Update layout</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">barmode</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span>
    <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span>
    <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Number of Events&#39;</span><span class="p">,</span>
    <span class="n">title_x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">title_font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">22</span><span class="p">),</span>
    <span class="n">legend_title_text</span><span class="o">=</span><span class="s1">&#39;Species&#39;</span><span class="p">,</span>
    <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Save the interactive plot to an HTML file</span>
<span class="n">html_content</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">include_plotlyjs</span><span class="o">=</span><span class="s1">&#39;cdn&#39;</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">minified_html</span> <span class="o">=</span> <span class="n">htmlmin</span><span class="o">.</span><span class="n">minify</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="n">remove_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduce_empty_attributes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../assets/plots/interactive_distribution_rabies_events_by_species_over_time.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">minified_html</span><span class="p">)</span>

<span class="c1"># print(&quot;Interactive plot saved as HTML file.&quot;)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="seasonal-trends-of-rabies-events">
<h3>Seasonal Trends of Rabies Events<a class="headerlink" href="#seasonal-trends-of-rabies-events" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Count the number of events per month aggregated over all years</span>
<span class="n">seasonal_trends</span> <span class="o">=</span> <span class="n">df_rabies_raw</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Month&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">)</span>

<span class="c1"># Convert month numbers to month names</span>
<span class="n">seasonal_trends</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">seasonal_trends</span><span class="p">[</span><span class="s1">&#39;Month&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">month_names</span><span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Create the line plot</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">seasonal_trends</span><span class="p">,</span> 
              <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> 
              <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Counts&#39;</span><span class="p">,</span> 
              <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Seasonal Trends of Rabies Events&#39;</span><span class="p">,</span>
              <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Counts&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of Events&#39;</span><span class="p">},</span>
              <span class="n">markers</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
              <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#636EFA&#39;</span><span class="p">])</span>

<span class="c1"># Update layout</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span>
    <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Number of Events&#39;</span><span class="p">,</span>
    <span class="n">title_x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">title_font</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">22</span><span class="p">),</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">,</span> <span class="n">tickmode</span><span class="o">=</span><span class="s1">&#39;array&#39;</span><span class="p">,</span> <span class="n">tickvals</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">)),</span> <span class="n">ticktext</span><span class="o">=</span><span class="n">month_names</span><span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">showgrid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gridcolor</span><span class="o">=</span><span class="s1">&#39;lightgrey&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Save the interactive plot to an HTML file</span>
<span class="n">html_content</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">include_plotlyjs</span><span class="o">=</span><span class="s1">&#39;cdn&#39;</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">minified_html</span> <span class="o">=</span> <span class="n">htmlmin</span><span class="o">.</span><span class="n">minify</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="n">remove_comments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduce_empty_attributes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../assets/plots/interactive_seasonal_trends_rabies_events.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">minified_html</span><span class="p">)</span>

<span class="c1"># print(&quot;Interactive plot saved as HTML file.&quot;)</span>

<span class="c1"># Show the interactive plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
</section>
<section id="key-insights-and-conclusions">
<h2>Key insights and Conclusions:<a class="headerlink" href="#key-insights-and-conclusions" title="Link to this heading">#</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Dogs and jackals are the most frequently reported species with Rabies, likely due to their proximity to human habitats and behaviors that increase their risk of exposure to the virus.

The Galil and Golan regions reported the highest number of Rabies cases, possibly due to their rural landscapes and wildlife reservoirs.

Seasonal trends were observed, with higher numbers of cases reported in the colder months, which may be related to animal breeding seasons, changes in behavior, and environmental factors that affect virus survival.

Visualizations for the year 2023 were also created to compare the current year&#39;s data against the historical average, providing a current perspective on the Rabies situation.
</pre></div>
</div>
<p>The findings from this project could be instrumental for public health officials and policymakers in enhancing Rabies surveillance, control measures, and public awareness campaigns, particularly in high-risk areas and periods identified through the analysis.</p>
<p>Thank you for having an EDA exploring experience.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content\notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../../index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Welcome to the Rabies EDA Project</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#objectives">Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda">EDA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#libreries">Libreries</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#get-data-from-data-gov-il">Get Data from data.gov.il</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-exploration">Data Exploration</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-preprocessing-plan">Data preprocessing plan</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-visualizations">Data Visualizations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-by-species-seaborn">Count of Rabies events by Species - Seaborn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interactive-count-of-rabies-events-by-species-plotly">Interactive Count of Rabies events by Species - Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-by-region-seaborn">Count of Rabies events by Region - Seaborn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-by-region-plotly">Count of Rabies events by Region - Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-per-year-seaborn">Count of Rabies events per Year - Seaborn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-per-year-plotly">Count of Rabies events per Year - Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregated-count-by-month-across-all-years-seaborn">Aggregated Count by Month Across All Years - Seaborn</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aggregated-count-by-month-across-all-years-plotly">Aggregated Count by Month Across All Years - Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#heatmap-monthly-counts-for-each-year">Heatmap Monthly Counts for Each Year</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#heatmap-monthly-counts-for-each-year-plotly">Heatmap Monthly Counts for Each Year - Plotly</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizations-for-2023">Visualizations for 2023</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-cases-by-species-in-2023">Count of Rabies Cases by Species in 2023</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-plot-for-regions-in-2023">Count plot for Regions in 2023</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-of-rabies-events-by-month-in-2023">Count of Rabies Events by Month in 2023</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#comparison-of-rabies-events-by-month-in-2023-to-annual-average">Comparison of Rabies Events by Month in 2023 to Annual Average</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribution-of-rabies-events-by-species-over-time">Distribution of Rabies Events by Species over Time</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seasonal-trends-of-rabies-events">Seasonal Trends of Rabies Events</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-insights-and-conclusions">Key insights and Conclusions:</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dor J
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>